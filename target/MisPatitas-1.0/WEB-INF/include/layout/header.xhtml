<ui:composition  xmlns="http://www.w3.org/1999/xhtml"
                 xmlns:h="http://xmlns.jcp.org/jsf/html"
                 xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
    <script type="text/javascript">
        // Función para obtener parámetros de la URL
        function obtenerParametroUrl(nombre) {
            var urlParams = new URLSearchParams(window.location.search);
            return urlParams.get(nombre);
        }
        var usuarioTipo = localStorage.getItem('tipoUsuario');
        // Obtén el tipo de usuario de la URL
        var tipoUsuario = obtenerParametroUrl('tipoUsuario');
        // Modifica el contenido según el tipo de usuario
        window.onload = function () {
            if (tipoUsuario === 'usuario' || usuarioTipo == "usuario") {
                // Código para opciones de usuario
                document.getElementById('opcionesUsuario').style.display = 'flex';
                document.getElementById('opcionesPredeterminado').style.display = 'none';
            } else if (tipoUsuario === 'veterinario' || usuarioTipo === "veterinario") {
                // Código para opciones de veterinario
                document.getElementById('opcionesVeterinario').style.display = 'flex';
                document.getElementById('opcionesPredeterminado').style.display = 'none';

            }
        };
    </script>

    <script type="text/javascript">
        function irA(destino, tipoUsuario) {
            var codigo = localStorage.getItem('idCodigo');
            var url = '/MisPatitas/' + destino + '.xhtml?prueba=pru&amp;tipoUsuario=' + tipoUsuario + '&amp;idCodigo=' + codigo;

            window.location.href = url;
        }
        const limpiar = () => {
            localStorage.clear();
        }
    </script>


    <div class="contenedor encabezadoContenedor" style="width: 100vw">
        <div class="barra" style="width: 100%">
            <a class="logo" href="/Integrador/" >
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-paw-filled" width="48" height="48" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
                    <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
                    <path d="M12 10c-1.32 0 -1.983 .421 -2.931 1.924l-.244 .398l-.395 .688a50.89 50.89 0 0 0 -.141 .254c-.24 .434 -.571 .753 -1.139 1.142l-.55 .365c-.94 .627 -1.432 1.118 -1.707 1.955c-.124 .338 -.196 .853 -.193 1.28c0 1.687 1.198 2.994 2.8 2.994l.242 -.006c.119 -.006 .234 -.017 .354 -.034l.248 -.043l.132 -.028l.291 -.073l.162 -.045l.57 -.17l.763 -.243l.455 -.136c.53 -.15 .94 -.222 1.283 -.222c.344 0 .753 .073 1.283 .222l.455 .136l.764 .242l.569 .171l.312 .084c.097 .024 .187 .045 .273 .062l.248 .043c.12 .017 .235 .028 .354 .034l.242 .006c1.602 0 2.8 -1.307 2.8 -3c0 -.427 -.073 -.939 -.207 -1.306c-.236 -.724 -.677 -1.223 -1.48 -1.83l-.257 -.19l-.528 -.38c-.642 -.47 -1.003 -.826 -1.253 -1.278l-.27 -.485l-.252 -.432c-1.011 -1.696 -1.618 -2.099 -3.053 -2.099z" stroke-width="0" fill="currentColor" />
                    <path d="M19.78 7h-.03c-1.219 .02 -2.35 1.066 -2.908 2.504c-.69 1.775 -.348 3.72 1.075 4.333c.256 .109 .527 .163 .801 .163c1.231 0 2.38 -1.053 2.943 -2.504c.686 -1.774 .34 -3.72 -1.076 -4.332a2.05 2.05 0 0 0 -.804 -.164z" stroke-width="0" fill="currentColor" />
                    <path d="M9.025 3c-.112 0 -.185 .002 -.27 .015l-.093 .016c-1.532 .206 -2.397 1.989 -2.108 3.855c.272 1.725 1.462 3.114 2.92 3.114l.187 -.005a1.26 1.26 0 0 0 .084 -.01l.092 -.016c1.533 -.206 2.397 -1.989 2.108 -3.855c-.27 -1.727 -1.46 -3.114 -2.92 -3.114z" stroke-width="0" fill="currentColor" />
                    <path d="M14.972 3c-1.459 0 -2.647 1.388 -2.916 3.113c-.29 1.867 .574 3.65 2.174 3.867c.103 .013 .2 .02 .296 .02c1.39 0 2.543 -1.265 2.877 -2.883l.041 -.23c.29 -1.867 -.574 -3.65 -2.174 -3.867a2.154 2.154 0 0 0 -.298 -.02z" stroke-width="0" fill="currentColor" />
                    <path d="M4.217 7c-.274 0 -.544 .054 -.797 .161c-1.426 .615 -1.767 2.562 -1.078 4.335c.563 1.451 1.71 2.504 2.941 2.504c.274 0 .544 -.054 .797 -.161c1.426 -.615 1.767 -2.562 1.078 -4.335c-.563 -1.451 -1.71 -2.504 -2.941 -2.504z" stroke-width="0" fill="currentColor" />
                </svg>
                <h1 class="logo__nombre no-margin centrar-texto">Mis<span class="logo__bold">Patitas</span></h1>

            </a>

            <nav class="navegacion" id="opcionesUsuario" style="display: none;margin-right: 40px;align-items: center;width: auto;">
                <a href="#" onclick="irA('index', 'usuario')" class="navegacion__enlace">Inicio</a>
                <a href="#" onclick="irA('servicio', 'usuario')" class="navegacion__enlace">Servicios</a>
                <a href="#" onclick="irA('nosotros', 'usuario')" class="navegacion__enlace">Nosotros</a>
                <a  href="#" onclick="irA('mascotaUsuario', 'usuario')" class="navegacion__enlace">Mascotas</a>
                <a href="#" onclick="irA('historialUsuario', 'usuario')"  class="navegacion__enlace">Historial</a>
                <a href="#" onclick="irA('contactoUsuario', 'usuario')"  class="navegacion__enlace">Contacto</a>
                <a href="/MisPatitas/iniciarSesion.xhtml" class="navegacion__enlace" onclick="limpiar()" >Cerrar Sesión</a>
            </nav>
            <nav class="navegacion" id="opcionesVeterinario" style="display: none;margin-right: 40px;align-items: center;width: auto;">
                <a href="#" onclick="irA('index', 'veterinario')" class="navegacion__enlace">Inicio</a>
                <a href="#" onclick="irA('servicioVeterinario', 'veterinario')" class="navegacion__enlace">Servicios</a>
                <a href="#" onclick="irA('nosotros', 'veterinario')" class="navegacion__enlace">Nosotros</a>                
                <a href="#" onclick="irA('mascotaVeterinario', 'veterinario')" class="navegacion__enlace">Mascotas</a>
                <a href="#" onclick="irA('reporte', 'veterinario')" class="navegacion__enlace">Reporte</a>
                <a href="#" onclick="irA('mensajes', 'veterinario')"  class="navegacion__enlace">Mensajes</a>
                <a href="/MisPatitas/iniciarSesion.xhtml" class="navegacion__enlace" onclick="limpiar()" >Cerrar Sesión</a>

            </nav>
            <nav class="navegacion" id="opcionesPredeterminado">
                <a href="/MisPatitas" class="navegacion__enlace">Inicio</a>
                <a href="/MisPatitas/nosotros.xhtml" class="navegacion__enlace">Nosotros</a>
                <a href="/MisPatitas/servicio.xhtml" class="navegacion__enlace">Servicios</a>
                <a href="/MisPatitas/iniciarSesion.xhtml" class="navegacion__enlace">Iniciar Sesión</a>
            </nav>



            <div class="hamburguesa">
                <i class="bx bx-menu"></i>
            </div>

        </div>

    </div>
    <nav class="navegacionEncabezado">
        <a href="/Historial/" class="navegacion__enlaceEncabezado">Inicio</a>
        <a href="/Historial/nosotros.jsp" class="navegacion__enlaceEncabezado">Nosotros</a>
        <a href="/Historial/servicios.jsp" class="navegacion__enlaceEncabezado">Servicios</a>
        <a href="/Historial/contacto.jsp" class="navegacion__enlaceEncabezado">Contacto</a>
        <a href="/Historial/index.jsp" class="navegacion__enlaceEncabezado">Intranet</a>
    </nav>

    <script>
        const hamburguesa = document.querySelector(".hamburguesa");
        const navegacionEncabezado = document.querySelector(".navegacionEncabezado");
        let pase = true;
        hamburguesa.addEventListener("click", () => {
            if (pase) {
                navegacionEncabezado.style.display = "flex";
                pase = false;
            } else {
                navegacionEncabezado.style.display = "none";

                pase = true;
            }
        });


    </script>
</ui:composition>
